@{
    Layout = null;
}

@model Repository.Models.IndexModelView


@*<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" />
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>*@


<script type="text/javascript">

    var url_Start = '@String.Format("{0}://{1}", Request.Url.Scheme, Request.Url.Authority)';

    $(function () {
        debugger;
        $('head').append("<link href='" + url_Start + "/Content/css/bootstrap.css' rel='stylesheet' />");
        $('head').append("<link href='" + url_Start + "/Content/css/bootstrap.min.css' rel='stylesheet' />");
        $('head').append("<link href='" + url_Start + "/Content/css/jquery-ui-1.10.4.custom.min.css' rel='stylesheet' />");
        $('head').append("<link href='" + url_Start + "/Content/css/bootstrap.vertical-tabs.css' rel='stylesheet' />");
        $('head').append("<link href='" + url_Start + "/Content/css/custome.css' rel='stylesheet' />");
        //$('head').append("<link href='" + url_Start + "/Content/css/font-awesome.css' rel='stylesheet' />");
        //$('head').append("<link href='" + url_Start + "/Content/css/font-awesome.min.css' rel='stylesheet' />");

        $('head').append("<script src='" + url_Start + "/Content/js/bootstrap.js'><\/script>");
        $('head').append("<script src='" + url_Start + "/Content/js/bootstrap.min.js'><\/script>");
        //$('head').append("<script src='" + url_Start + "/Content/js/VehicleType.js'><\/script>");
        //$('head').append("<script src='" + url_Start + "/Content/js/ModelTypes.js'><\/script>");
        $('head').append("<script src='" + url_Start + "/Content/js/jquery-ui-1.10.4.custom.min.js'><\/script>");



        //images
        //$('#idFirstSlider').attr('src', url_Start + '/Content/image/banner1.jpg');
        //$('#idSecondSlider').attr('src', url_Start + '/Content/image/banner2.jpg');
        //$('#idThirdSlider').attr('src', url_Start + '/Content/image/banner1.jpg');
        $('#idFirstSlider').attr('src', url_Start + '/Content/image/cars-bg.jpg');
        $('#idSecondSlider').attr('src', url_Start + '/Content/image/cars-bg.jpg');
        $('#idThirdSlider').attr('src', url_Start + '/Content/image/cars-bg.jpg');
        $('#img1').attr('src', url_Start + '/Content/image/car_img.png');
    });
</script>
<style>
    .ui-autocomplete {
        max-height: 150px;
        position: absolute;
        overflow-y: auto;
        z-index: 9999;
        background-color: #fff;
        /* prevent horizontal scrollbar */
        overflow-x: hidden;
        /* add padding to account for vertical scrollbar */
    }


    li a::after {
        color: red !important;
    }


    * html .ui-autocomplete {
        height: 100px;
    }

    li a:hover {
        color: fff;
        transition: color 0.5s linear; /* vendorless fallback */
        -o-transition: color 0.5s linear; /* opera */
        -ms-transition: color 0.5s linear; /* IE 10 */
        -moz-transition: color 0.5s linear; /* Firefox */
        -webkit-transition: color 0.5s linear; /*safari and chrome */
    }
</style>
<script type="text/javascript">
    $(function () {
        if (typeof (Storage) !== "undefined") {
            $('#ZipCode').val(localStorage.ZipCode);
            $('#Location').val(localStorage.SearchedMiles);
        }
        $('.chooseByMake').click(function (e) {
            var makeName = $(this).data("make");
            var location = $('#Location').val();
            var zipCode = $('#ZipCode').val();

            var url = url_Start + '@Url.Action("CarListing", "Home")' + '?Name=' + makeName + '&Location=' + location + '&ZipCode=' + zipCode;
            window.location.href = url;
        });
        $('.chooseByVechileType').click(function (e) {
            var vechiletype = $(this).data("vechiletype");
            var location = $('#Location').val();
            var zipCode = $('#ZipCode').val();

            var url = url_Start + '@Url.Action("CarListing", "Home")' + '?Type=' + vechiletype + '&Location=' + location + '&ZipCode=' + zipCode;
            window.location.href = url;
        });
        $('.chooseByDealer').click(function (e) {
            debugger;
            var dealerName = $(this).data("dealer");
            var location = $('#Location').val();
            var zipCode = $('#ZipCode').val();
            var Name = "";
            var url = url_Start + '@Url.Action("CarListing", "Home")' + '?DealerName=' + dealerName + '&Location=' + location + '&ZipCode=' + zipCode;
            window.location.href = url;
        });

        $('#findModelPrice').click(function (e) {

            var make = $('#advanceSearch_Make option:selected').val();
            var type = $('#advanceSearch_VehicleType option:selected').val();
            var model = $('#advanceSearch_Model option:selected').val();
            var minPrice = $('#advanceSearch_MinPrice option:selected').val();
            var maxPrice = $('#advanceSearch_MaxPrice option:selected').val();
            var location = $('#advanceSearch_Location option:selected').val();
            var zipCode = $('#advanceSearch_ZipCode').val();
            if (typeof (Storage) !== "undefined") {
                localStorage.setItem("ZipCode", zipCode);
                localStorage.setItem("SearchedMiles", location);
            }
            var url = url_Start + '@Url.Action("CarListing", "Home")' + '?Name=' + make + '&Type=' + type + '&ModelName=' + model + '&MinPrice=' + minPrice + '&MaxPrice=' + maxPrice + '&Location=' + location + '&ZipCode=' + zipCode;
            window.location.href = url;
        });


    });


</script>
<script type="text/javascript">

    $(".slidingDiv").hide();
    $(".show_hide").show();

    $('.show_hide').click(function () {
        $(".slidingDiv").slideToggle();
        $(".slidingDiv1").hide();
        $(".slidingDiv2").hide();
        $(".slidingDiv3").hide();
        $(".slidingDiv4").hide();
        $(".slidingDiv5").hide();
    });

    $(".slidingDiv1").hide();
    $(".show_hide1").show();

    $('.show_hide1').click(function () {
        $(".slidingDiv1").slideToggle();
        $(".slidingDiv").hide();
        $(".slidingDiv2").hide();
        $(".slidingDiv3").hide();
        $(".slidingDiv4").hide();
        $(".slidingDiv5").hide();
    });
    $(".slidingDiv2").hide();
    $(".show_hide2").show();

    $('.show_hide2').click(function () {
        $(".slidingDiv2").slideToggle();
        $(".slidingDiv").hide();
        $(".slidingDiv1").hide();
        $(".slidingDiv3").hide();
        $(".slidingDiv4").hide();
        $(".slidingDiv5").hide();
    });

    $(".slidingDiv3").hide();
    $(".show_hide3").show();

    $('.show_hide3').click(function () {
        $(".slidingDiv3").slideToggle();
        $(".slidingDiv2").hide();
        $(".slidingDiv1").hide();
        $(".slidingDiv").hide();
        $(".slidingDiv4").hide();
        $(".slidingDiv5").hide();
    });



    $(".slidingDiv4").hide();
    $(".show_hide4").show();

    $('.show_hide4').click(function () {
        $(".slidingDiv4").slideToggle();
        $(".slidingDiv").hide();
        $(".slidingDiv1").hide();
        $(".slidingDiv3").hide();
        $(".slidingDiv2").hide();
        $(".slidingDiv5").hide();
    });

    $(".slidingDiv5").hide();
    $(".show_hide5").show();

    $('.show_hide5').click(function () {
        $(".slidingDiv5").slideToggle();
        $(".slidingDiv2").hide();
        $(".slidingDiv1").hide();
        $(".slidingDiv").hide();
        $(".slidingDiv3").hide();
        $(".slidingDiv4").hide();
    });

    $('#txtSearch').focus(function () {
        $(".slidingDiv").hide();
        $(".slidingDiv1").hide();
        $(".slidingDiv3").hide();
        $(".slidingDiv2").hide();
        $(".slidingDiv4").hide();
        $(".slidingDiv5").hide();

    });
    debugger;
    $('#searchAuto').attr('action', url_Start + '/Home/CarListing');
</script>
@using (Html.BeginForm("CarListing", "Home", FormMethod.Post, new { id = "searchAuto" }))
{
    <input type="hidden" name="ZipCode" id="ZipCode" value="123" />
    <input type="hidden" name="Location" id="Location" />

    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-sm-12">
                <div id="myCarousel" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->

                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>
                    </ol>

                    <div class="carousel-inner">


                        <div class="item active">
                            <img id="idFirstSlider" style="width:100%" data-src="" alt="First slide" />

                        </div>
                        <div class="item">
                            <img id="idSecondSlider" style="width:100%" data-src="" alt="Second slide" />
                            <div class="container">
                                <div class="carousel-caption">
                                </div>
                            </div>
                        </div>
                        <div class="item">
                            <img id="idThirdSlider" style="width:100%" data-src="" alt="Third slide" />
                            <div class="container">
                                <div class="carousel-caption">

                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="carousel-caption">
                        <h1>SD CARS</h1>
                        @*<h2>FOR AS LOW AS $10 A DAY PLUS 5% DISCOUNT FOR OUR RETURNING CUSTOMERS</h2>*@

                        <div class="bnnr_cnt">
                            <div class="search_area">
                                <input id="txtSearch" name="txtSearch" type="text" class="input_search" /> <input name="" type="submit" value="SEARCH" class="search_btt" />
                            </div>

                            <div class="banner_title"><h3>FIND CARS FOR SALE</h3></div>
                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs tabs-left">
                                <li class="show_hide"><a href="#home" data-toggle="tab">Make <span class="icon">&nbsp;</span></a></li>
                                @*<li class="show_hide1"><a href="#profile" data-toggle="tab">Vehicle Type <span class="icon">&nbsp;</span></a></li>*@
                                <li class="show_hide2"><a href="#messages" data-toggle="tab">Model & Price <span class="icon">&nbsp;</span></a></li>
                                @*<li class="show_hide3"><a href="#settings" data-toggle="tab">Features <span class="icon">&nbsp;</span></a></li>
                                    <li class="show_hide4"><a href="#mpg" data-toggle="tab">MPG <span class="icon">&nbsp;</span></a></li>*@
                                <li class="show_hide5"><a href="#dealerlist" data-toggle="tab">Dealers <span class="icon">&nbsp;</span></a></li>
                            </ul>

                            <!-- Tab panes -->
                            <div class="tab-content">
                                <div class="slidingDiv active" id="home">
                                    <span class="show_hide"><i class="fa fa-times"></i></span>
                                    Nearly every make and model to choose from
                                    <ul class="make-car_list">
                                        @foreach (var item in Model.MakeList)
                                        {
                                            <li> <a class="chooseByMake" data-make="@item.MakersName">@item.MakersName (@item.Count)</a> </li>
                                        }
                                    </ul>
                                </div>
                                <div class="slidingDiv1" id="profile">
                                    <span class="show_hide1"><i class="fa fa-times"></i></span>
                                    What fits your lifestyle?.
                                    <ul class="vachile-type_dtls">
                                        @foreach (var item in Model.VehicleTypeList)
                                        {
                                            <li>
                                                <img id="img1" alt="car_img" />
                                                <a class="chooseByVechileType" data-vechiletype="@item.VehicleTypeName">@item.VehicleTypeName (@item.VehicleCount)</a>
                                            </li>
                                        }
                                    </ul>
                                </div>
                                <div class="slidingDiv2" id="messages" style="text-align:center;">
                                    <span class="show_hide2"><i class="fa fa-times"></i></span>
                                    Your specific needs.
                                    <div class="model-price_dtls">
                                        <ul>
                                            <li><label><span>Make</span> @Html.DropDownListFor(M => M.advanceSearch.Make, new SelectList(Model.MakeList, "MakersName", "MakersName"), "--All Makes--", new { @class = "input_makeing" })</label></li>
                                            <li><label><span> Type</span>@Html.DropDownListFor(M => M.advanceSearch.VehicleType, new SelectList(string.Empty, "Value", "Text"), "--All Types--", new { @class = "input_makeing" })</label></li>
                                            <li><label><span>Model</span> @Html.DropDownListFor(M => M.advanceSearch.Model, new SelectList(string.Empty, "Value", "Text"), "--All Models--", new { @class = "input_makeing" })</label></li>
                                            <li>
                                                <label>
                                                    <span>Price</span>
                                                    <select name="advanceSearch.MinPrice" class="min_price" id="advanceSearch_MinPrice">
                                                        <option value="0">$0</option>
                                                        <option value="10000">$10,000</option>
                                                        <option value="12000">$12,000</option>
                                                        <option value="14000">$14,000</option>
                                                        <option value="15000">$15,000</option>
                                                        <option value="16000">$16,000</option>
                                                        <option value="18000">$18,000</option>
                                                        <option value="20000">$20,000</option>
                                                        <option value="22000">$22,000</option>
                                                        <option value="24000">$24,000</option>
                                                        <option value="25000">$25,000</option>
                                                        <option value="26000">$26,000</option>
                                                        <option value="28000">$28,000</option>
                                                        <option value="30000">$30,000</option>
                                                        <option value="35000">$35,000</option>
                                                        <option value="40000">$40,000</option>
                                                        <option value="45000">$45,000</option>
                                                        <option value="50000">$50,000</option>
                                                    </select>

                                                    <select name="advanceSearch.MaxPrice" class="max_price" id="advanceSearch_MaxPrice">
                                                        <option value="0">No Maximum</option>
                                                        <option value="10000">$10,000</option>
                                                        <option value="12000">$12,000</option>
                                                        <option value="14000">$14,000</option>
                                                        <option value="15000">$15,000</option>
                                                        <option value="16000">$16,000</option>
                                                        <option value="18000">$18,000</option>
                                                        <option value="20000">$20,000</option>
                                                        <option value="22000">$22,000</option>
                                                        <option value="24000">$24,000</option>
                                                        <option value="25000">$25,000</option>
                                                        <option value="26000">$26,000</option>
                                                        <option value="28000">$28,000</option>
                                                        <option value="30000">$30,000</option>
                                                        <option value="35000">$35,000</option>
                                                        <option value="40000">$40,000</option>
                                                        <option value="45000">$45,000</option>
                                                        <option value="50000">$50,000</option>
                                                    </select>
                                                </label>
                                            </li>
                                            <li>
                                                <label>
                                                    <span>Located</span>
                                                    <select name="advanceSearch.Location" class="input_makeing" id="advanceSearch_Location">
                                                        <option value="0">Any</option>
                                                        <option value="5">5 miles</option>
                                                        <option value="10">10 miles</option>
                                                        <option value="15">15 miles</option>
                                                        <option value="20">20 miles</option>
                                                        <option value="25">25 miles</option>
                                                        <option value="50">50 miles</option>
                                                        <option value="75">75 miles</option>
                                                        <option value="100">100 miles</option>
                                                        <option value="250">250 miles</option>
                                                        <option value="500">500 miles</option>
                                                    </select>
                                                </label>
                                            </li>
                                            <li>
                                                <label>
                                                    <span> Zip Code</span>
                                                    @Html.TextBoxFor(M => M.advanceSearch.ZipCode, new { @class = "input_zip" })
                                                </label>
                                            </li>
                                        </ul>
                                        <div class="clear"></div>
                                        <input name="" type="button" value="FIND CARS" class="find_cars" id="findModelPrice" />
                                    </div>
                                </div>
                                <div class="slidingDiv3" id="settings">
                                    <span class="show_hide3"><i class="fa fa-times"></i></span>
                                    What's most important to you?
                                    <ul class="feature-list_dtls">
                                        <li> <a href="#"> 3rd Rear Seat <span>(5842)</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>(5842)</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>(5842)</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                    </ul>
                                </div>
                                <div class="slidingDiv4" id="mpg">
                                    <span class="show_hide4"><i class="fa fa-times"></i></span>
                                    Miles per gallon: What's your magic number?
                                    <h3>Show cars rated</h3>
                                    <ul class="feature-list_dtls">
                                        <li> <a href="#"> 3rd Rear Seat <span>(5842)</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>(5842)</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>
                                        <li> <a href="#"> 3rd Rear Seat <span>5842</span></a></li>

                                    </ul>
                                </div>
                                <div class="slidingDiv5 active" id="dealerlist">
                                    <span class="show_hide5"><i class="fa fa-times"></i></span>
                                    Nearly every Dealers to choose from
                                    <ul class="make-car_list">
                                        @foreach (var item in Model.UserList)
                                        {
                                            <li> <a class="chooseByDealer" data-dealer="@item.DealerName">@item.DealerName (@item.Count)</a> </li>
                                        }
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="clear"></div>
                    </div>

                    <div class="clear"></div>
                    <a class="left carousel-control" href="#myCarousel" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a> <a class="right carousel-control" href="#myCarousel" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a>
                </div>

                <div class="clear"></div>
            </div>
        </div>
    </div>

}



<style>
    .show_hide {
        display: block;
        cursor: pointer;
        float: right;
    }

    .show_hide1 {
        display: block;
        cursor: pointer;
        float: right;
    }

    .show_hide2 {
        display: block;
        cursor: pointer;
        float: right;
    }

    .show_hide3 {
        display: block;
        cursor: pointer;
        float: right;
    }

    .show_hide4 {
        display: block;
        cursor: pointer;
        float: right;
    }

    .show_hide5 {
        display: block;
        cursor: pointer;
        float: right;
    }

    .search_area span {
        margin: 62px 0 0 -49%;
        position: absolute;
        width: 500px;
        padding: 0px;
        display: none;
    }

    .carousel-inner > .item > img, .carousel-inner > .item > a > img {
        height: 600px !important;
    }
</style>



<script type="text/javascript">
    $(function () {
        @*$("#txtSearch").autocomplete({
            source: url_Start + '@Url.Action("GetAutoCompleteResult","Home")'
        });*@
    });
    debugger;

    setTimeout(loadautoComplete, 5000);
    setTimeout(loadcarousel, 5000);
    function loadautoComplete() {
        $("#txtSearch").autocomplete({
            source: url_Start + '/Home/GetAutoCompleteResult'
        });
    }

    function loadcarousel() {
        $('.carousel').carousel({
            interval: 45000
        })
    }

</script>
<script>
    $(function () {
        debugger;
        //This .change jquery function is the selectedchange event of the Master Level dropdownlist.
        $('#advanceSearch_VehicleType').change(function () {
            var id = $('#advanceSearch_VehicleType option:selected').val();// Variable id is storing the selected value of the Master Level dropdownlist
            var makeid = $('#advanceSearch_Make option:selected').val();
            jQuery.ajax(
            {
                type: "get",
                url: url_Start + "/Home/ModelList/",// Going to the BranchList Action in Branch controller with selected id of the Master Level dropdown
                data: { ID: id, MakeId: makeid },
                dataType: "json",
                success: function (data) {//data is json result set that is returning from the BranchList Action method
                    $('#advanceSearch_Model').empty();// first remove the current options if any in the Parent Level dropdown
                    var optionhtml1 = '<option value="' +
                     0 + '">' + "--All Models--" + '</option>';
                    $("#advanceSearch_Model").append(optionhtml1);// Binding the first option for Parent Level dropdown
                    $.each(data, function (index, optiondata) {// next iterate through JSON (result set) object adding each option to the Parent Level dropdown
                        $("#advanceSearch_Model").append("<option value='" + optiondata.ModelsName + "'>" + optiondata.ModelsName + "</option>");
                    });
                }
            });
        });


        //This .change jquery function is the selectedchange event of the Master Level dropdownlist.
        $('#advanceSearch_Make').change(function () {
            var id = $('#advanceSearch_Make option:selected').val();// Variable id is storing the selected value of the Master Level dropdownlist
            jQuery.ajax(
            {
                type: "get",
                url: url_Start + "/Home/TypeList/" + id,// Going to the BranchList Action in Branch controller with selected id of the Master Level dropdown
                dataType: "json",
                success: function (data) {//data is json result set that is returning from the BranchList Action method
                    $('#advanceSearch_VehicleType').empty();// first remove the current options if any in the Parent Level dropdown
                    var optionhtml1 = '<option value="' +
                     0 + '">' + "--All Types--" + '</option>';
                    $("#advanceSearch_VehicleType").append(optionhtml1);// Binding the first option for Parent Level dropdown
                    $.each(data, function (index, optiondata) {// next iterate through JSON (result set) object adding each option to the Parent Level dropdown
                        $("#advanceSearch_VehicleType").append("<option value='" + optiondata.VehicleTypeName + "'>" + optiondata.VehicleTypeName + "</option>");
                    });
                }
            });
        });
    });
</script>